<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML>
<HEAD>
<META http-equiv=Content-Type content="text/html; charset=utf8">
<LINK href="{{ asset('css/admin.css')}}" type="text/css" rel="stylesheet">
<link href="{{ asset('css/pageNav.css')}}" rel="stylesheet" type="text/css" />
<script src="{{ asset('js/lib/jquery-1.11.1.min.js')}}" type="text/javascript"></script>
<SCRIPT src="{{ asset('js/plugin/load.js')}}" type=text/javascript></SCRIPT>
<script src="{{ asset('js/plugin/My97DatePicker/WdatePicker.js')}}" type="text/javascript"></script>
<script src="{{ asset('js/kindeditor/kindeditor.js')}}" type="text/javascript"></script>
<script type="text/javascript">
$(document).ready(function(){
  $("#select").click(function (){
      window.location.href="{{ path('_admin_member') }}?user_id="+$('#user_id').val()+"&email="+$('#email').val()+"&nick="+$('#nick').val();
  });
  $("#edit").click(function (){
      window.location.href="{{ path('_admin_member_edit') }}?user_id="+$('#id').val();
  })
});
</script>
</HEAD>
<BODY>

 <STYLE TYPE="text/css" MEDIA=screen>
<!--
  table { margin: 10px;}
  table th { text-align:left; width:150px;}
  table td { text-align:left;}
-->
</STYLE>

<table align="center" class="search">
    <form action="{{ path('_admin_member')}}" method="post" id="form1" >
    <tr>
        <td colspan="7" align="center">&nbsp;</td>
    </tr>
    <tr>
        <td colspan="7" align="center">&nbsp;
        user id:<input type="text" id="user_id" name="user_id" value="{% if user_id %}{{ user_id }}{% endif %}" size="15" />&nbsp;
        email:<input type="text" id="email" name="email" value="{% if email %}{{ email }}{% endif %}" size="40" />&nbsp;
        nick:<input type="text" id="nick" name="nick" value="{% if nick %}{{ nick }}{% endif %}" size="20" />&nbsp;
        <input type="button" id="select" name="select" value="查 询" />&nbsp;</td>
    </tr>
    </form>
 </table>
 {% if member is defined %}
   <table border="1px" cellspacing="0px" class="member_table list">
    <tr>
        <th>user id</th>
        <td width="350px;">{{ member.id }}
        <input type="hidden" id="id" name="user_id" value="{{ member.id }}"></td>
    </tr>
    <tr>
        <th>email</th>
        <td>{{ member.email }}&nbsp;</td>
    </tr>
    <tr>
        <th>nick</th>
        <td>{{ member.nick }}&nbsp;</td>
    </tr>
    <tr>
        <th>tel</th>
        <td>{{ member.tel }}&nbsp;</td>
    </tr>
    <tr>
        <th>register date</th>
        <td>{{ member.registerDate is empty ? "": member.registerDate|date("Y-m-d H:i:s") }}&nbsp;</td>
    </tr>
    <tr>
        <th>register complete date</th>
        <td>{{ member.registerCompleteDate is empty ? "": member.registerCompleteDate|date("Y-m-d H:i:s") }}&nbsp;</td>
    </tr>
    <tr>
        <th>last login date</th>
        <td>{{ member.lastLoginDate is empty ? "": member.lastLoginDate|date("Y-m-d H:i:s") }}&nbsp;</td>
    </tr>
    <tr>
        <th>points</th>
        <td>{{ member.points }}&nbsp;</td>
    </tr>
    <tr>
        <th>delete flag</th>
        <td>{{ member.deleteFlag }}&nbsp;</td>
    </tr>
    <tr>
        <th>delete_date</th>
        <td>{{ member.deleteDate is empty ? "": member.deleteDate|date("Y-m-d H:i:s") }}&nbsp;</td>
    </tr>
</table>
<input type="button" id="edit" name="edit" value="编辑" style="margin-left: 5%;"/>
{% else %}
<div><font color="red">user not found</font></div>
{% endif %}

{% if taskHistories is defined %}
<div class="row">
    <div class="col-sm-12">
        <table class='surveySopParticipationHistories table'>
            <caption><h4> 用户积分记录</h4></caption>
            <thead>
            <tr>
              <th>{{ knp_pagination_sortable(taskHistories, 'OrderId', 'th.orderId') }}</th>
              <th>{{ knp_pagination_sortable(taskHistories, 'TaskType', 'th.taskType') }}</th>
              <th>{{ knp_pagination_sortable(taskHistories, 'CategoryType', 'th.categoryType') }}</th>
              <th>{{ knp_pagination_sortable(taskHistories, 'TaskName', 'th.taskName') }}</th>
              <th>{{ knp_pagination_sortable(taskHistories, 'Point', 'th.point') }}</th>
              <th>{{ knp_pagination_sortable(taskHistories, 'OcdCreatedDate', 'th.ocdCreatedDate') }}</th>
            </tr>
            </thead>
            <tbody>
            {% for taskHistory in taskHistories %}
            <tr>
              <td>{{ taskHistory.orderId }}</td>
              <td>{{ taskHistory.taskType }}</td>
              <td>{{ taskHistory.categoryType }}</td>
              <td>{{ taskHistory.taskName }}</td>
              <td>{{ taskHistory.point }}</td>
              <td>{{ taskHistory.ocdCreatedDate |date('Y-m-d H:i:s') }}</td>
            </tr>
            {% endfor %}
            </tbody>
        </table>
    </div>
</div>

<div class="row">
    <div class="col-sm-12">
        <div class="navigation">
          {{ knp_pagination_render(taskHistories) }}
        </div>
    </div>
</div>
{% else %}
<div><font color="red">No taskHistories found.</font></div>
{% endif %}


{% if surveySopParticipationHistories is defined %}
<div class="row">
    <div class="col-sm-12">
        <table class='surveySopParticipationHistories table'>
            <caption><h4> SOP问卷项目参与记录</h4></caption>
            <thead>
            <tr>
              <th>{{ knp_pagination_sortable(surveySopParticipationHistories, 'SurveyId', 'ssph.surveyId') }}</th>
              <th>{{ knp_pagination_sortable(surveySopParticipationHistories, 'Status', 'ssph.status') }}</th>
              <th>{{ knp_pagination_sortable(surveySopParticipationHistories, 'UpdatedAt', 'ssph.updatedAt') }}</th>
              <th>{{ knp_pagination_sortable(surveySopParticipationHistories, 'ClientIp', 'ssph.clientIp') }}</th>
              <th>{{ knp_pagination_sortable(surveySopParticipationHistories, 'Loi', 'ssph.loi') }}</th>
            </tr>
            </thead>
            <tbody>
            {% for surveySopParticipationHistory in surveySopParticipationHistories %}
            <tr>
              <td>{{ surveySopParticipationHistory.surveyId }}</td>
              <td>{{ surveySopParticipationHistory.status }}</td>
              <td>{{ surveySopParticipationHistory.updatedAt |date('Y-m-d H:i:s') }}</td>
              <td>{{ surveySopParticipationHistory.clientIp }}</td>
              <td>{{ surveySopParticipationHistory.loi }}</td>
            </tr>
            {% endfor %}
            </tbody>
        </table>
    </div>
</div>

<div class="row">
    <div class="col-sm-12">
        <div class="navigation">
          {{ knp_pagination_render(surveySopParticipationHistories) }}
        </div>
    </div>
</div>
{% else %}
<div><font color="red">No surveySopParticipationHistories found.</font></div>
{% endif %}


{% if surveyPartnerParticipationHistorys is defined %}
<div class="row">
    <div class="col-sm-12">
        <table class='surveyPartnerParticipationHistorys table'>
            <caption><h4> 外接问卷项目参与记录</h4></caption>
            <thead>
            <tr>
              <th>{{ knp_pagination_sortable(surveyPartnerParticipationHistorys, 'SurveyPartnerId', 'spph.surveyPartner.id') }}</th>
              <th>{{ knp_pagination_sortable(surveyPartnerParticipationHistorys, 'Status', 'spph.status') }}</th>
              <th>{{ knp_pagination_sortable(surveyPartnerParticipationHistorys, 'CreatedAt', 'spph.createdAt') }}</th>
              <th>{{ knp_pagination_sortable(surveyPartnerParticipationHistorys, 'ClientIp', 'spph.clientIp') }}</th>
              <th>{{ knp_pagination_sortable(surveyPartnerParticipationHistorys, 'Comment', 'spph.comment') }}</th>
              <th>{{ knp_pagination_sortable(surveyPartnerParticipationHistorys, 'UKey', 'spph.uKey') }}</th>
            </tr>
            </thead>
            <tbody>
            {% for surveyPartnerParticipationHistory in surveyPartnerParticipationHistorys %}
            <tr>
              <td><a href="{{ path('admin_surveypartner_show', {'surveyPartnerId': surveyPartnerParticipationHistory.surveyPartner.id}) }}">{{ surveyPartnerParticipationHistory.surveyPartner.id }}</a></td>
              <td>{{ surveyPartnerParticipationHistory.status }}</td>
              <td>{{ surveyPartnerParticipationHistory.createdAt |date('Y-m-d H:i:s') }}</td>
              <td>{{ surveyPartnerParticipationHistory.clientIp }}</td>
              <td>{{ surveyPartnerParticipationHistory.comment }}</td>
              <td>{{ surveyPartnerParticipationHistory.uKey }}</td>
            </tr>
            {% endfor %}
            </tbody>
        </table>
    </div>
</div>

<div class="row">
    <div class="col-sm-12">
        <div class="navigation">
          {{ knp_pagination_render(surveyPartnerParticipationHistorys) }}
        </div>
    </div>
</div>
{% else %}
<div><font color="red">No surveyPartnerParticipationHistory found.</font></div>
{% endif %}

</BODY>
</HTML>
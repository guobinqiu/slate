parameters:

    offerwow_api_return.logger.class: Jili\ApiBundle\EventListener\OfferwowApiLogger

    offer99_api_return.logger.class: Jili\ApiBundle\EventListener\Offer99ApiLogger
    offer99_request.validation.class: Jili\ApiBundle\EventListener\Offer99RequestValidation
    offer99_request.processor.class:  Jili\ApiBundle\EventListener\Offer99RequestProcessor

    cps_access_history.logger.class: Jili\ApiBundle\EventListener\CpsAccessHistoryFactory
    cps_order.factory.class: Jili\ApiBundle\EventListener\CpsOrderFactory

    send_mail.class:  Jili\ApiBundle\Service\SendMail

# 兑换结果处理
    exchange.processor.class:  Jili\ApiBundle\Services\ExchangeProcess
#AlertToSlack
    alerttoslack.class:  Jili\ApiBundle\Services\AlertToSlack

services:

    offerwow_api.init_log:
        class: %offerwow_api_return.logger.class%
        arguments: [ "@logger","@doctrine.orm.entity_manager" ]

    cps_access_history.logger:
        class: %cps_access_history.logger.class%
        calls:
            - [setLogger, ["@logger"] ]
            - [setEntityManager, ["@doctrine.orm.entity_manager"] ]
            - [setContainer, ["@service_container"] ]

    cps_order.factory:
        class: %cps_order.factory.class%
        calls:
            - [setLogger, ["@logger"] ]
            - [setEntityManager, ["@doctrine.orm.entity_manager"] ]
            - [setContainer, ["@service_container"] ]

    offer99_api.init_log:
        class: %offer99_api_return.logger.class%
        arguments: [ "@logger","@doctrine.orm.entity_manager" ]

    offer99_request.validation:
        class: %offer99_request.validation.class%
        arguments: [ "@logger","@doctrine.orm.entity_manager" ]

    offer99_request.processor:
        class: %offer99_request.processor.class%
        arguments: [ "@logger", "@doctrine.orm.entity_manager", "@app.point_service" ]

    send_mail:
        class: %send_mail.class%
        arguments: [ "@logger","@doctrine.orm.entity_manager" ]
        calls:
            - [setContainer, ["@service_container"] ]
            - [setMailer, ["@mailer"] ]

    exchange.processor:
        class: %exchange.processor.class%
        calls:
            - [ setEntityManager, [ @doctrine.orm.entity_manager ] ]
            - [ setLogger, [ @logger ] ]
            - [ setContainer, [ @service_container ] ]

    alert_to_slack:
        class: %alerttoslack.class%
        calls:
            - [ setContainer, [ @service_container ] ]

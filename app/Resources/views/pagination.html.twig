<!-- 
    {% set total_  = total %}

    <p>total: {{ total }}; total:{{ total }}</p>
    <p>page_size: {{ page_size }}</p>
    
    {% set page_req = app.request.request.get('page',1) %}
    {% if page_req is null %} 
    {% set page_req = app.request.query.get('page',1) %}
    {% endif %}

    {% set cur = ( page_req == 0 ) ? 1 : page_req %}

    <p>cur: {{ cur }}</p>

    {% set first = 1 %} 
    {% set last =  ( total / page_size) |round(0,'ceil') %} 

    <p>last: {{ last }}</p>
    {% set prev = ( cur > first ) ? cur - 1: first  %}
    <p>prev: {{ prev }}</p>
    {% set next = ( cur < last  ) ? cur + 1: last  %}
    <p>next: {{ next }}</p>

    -->
<html>
 <head></head>
 <body>
  <ul class="pageNav">
{% if last <= 1 %} {% elseif last > 1 and last <= 5 %}
    {% for i in range(1, last ) %} 
       <!-- i: {{ i }} -->
       {% if cur != i %} 
       <li><a href="{{ path( app.request.attributes.get('_route'),  app.request.query.all|merge({'page': i})) }}">{{ i }}</a></li>
       {% else %} 
       <li class="currPage"><a href="{{ path( app.request.attributes.get('_route'),  app.request.query.all|merge({'page': i})) }}" onclick="javascript: return false;">{{ cur }}</a></li>
        {% endif %}
    {% endfor %}
{% else %}
    {% if cur != first %} 
   <li><a href="{{ path( app.request.attributes.get('_route'),  app.request.query.all|merge({'page': first})) }}">首页</a></li>
   {% endif %}
    {% if cur != prev %} 
   <li class="prevPage"><a href="{{ path( app.request.attributes.get('_route'),  app.request.query.all|merge({'page': prev })) }}"> <span class="arrowleftOrange"></span></a></li>
    {% endif %} 
    {% if cur - 3 > 0 %} <li><a href="{{ path( app.request.attributes.get('_route'),  app.request.query.all|merge({'page': cur-3 })) }}">{{ cur-3 }}</a></li> {% endif %}
    {% if cur - 2 > 0 %} <li><a href="{{ path( app.request.attributes.get('_route'),  app.request.query.all|merge({'page': cur-2 })) }}">{{ cur-2 }}</a></li> {% endif %}
    {% if cur - 1 > 0 %} <li><a href="{{ path( app.request.attributes.get('_route'),  app.request.query.all|merge({'page': cur-1 })) }}">{{ cur-1 }}</a></li> {% endif %} 
   <li class="currPage"><a href="#" onclick="javascript:function() {return false;};">{{ cur }}</a></li> {% if cur + 1 < last %} 
   <li><a href="{{ path( app.request.attributes.get('_route'),  app.request.query.all|merge({'page': cur+1 })) }}">{{ cur+1 }}</a></li> {% endif %}
    {% if cur + 2 < last %} <li><a href="{{ path( app.request.attributes.get('_route'),  app.request.query.all|merge({'page': cur+2 })) }}">{{ cur+2 }}</a></li> {% endif %}
    {% if cur + 3 < last %} <li><a href="{{ path( app.request.attributes.get('_route'),  app.request.query.all|merge({'page': cur+3 })) }}">{{ cur+3 }}</a></li> {% endif %}
    {% if cur != last %} <li class="prevPage"><a href="{{ path( app.request.attributes.get('_route'),  app.request.query.all|merge({'page': next })) }}"> <span class="arrowRightOrange"></span></a></li> {% endif %}
    {% if cur != last %} <li><a href="{{ path( app.request.attributes.get('_route'),  app.request.query.all|merge({'page': last })) }}">末页</a></li> {% endif %}
{% endif %}
{% if total_ > 0 %} 
   <li><span>共{{ last }}页</span></li>
{% endif %}
  </ul> 
 </body>
</html>